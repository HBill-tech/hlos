## 理解__asm__(.code16gcc);

### 注意！
* 这个代码加入到头文件中不会有太大作用，而是应该加入到想要编译成16位实模式汇编的函数源文件中。作用域是整个源文件。

* 需要在实模式下运行的代码（以源文件为单位）前需要加上这句代码。

* 加入这个代码后，函数体编译成汇编之后默认使用16位寄存器，如果使用32位寄存器的时候会加上 66h 前缀。寻址方式是实模式寻址方式。

### 如果实模式下执行的代码不加.code16gcc，会发生什么？

* 假设加入.code16gcc之后，代码最终被编译为机器码 `A`。
* 代码会被按照32位的指令编译，转化为机器码 `B`。
* 但是实模式下对于机器码的解析是按照解析 `A` 的方式来进行，因此会将 `B` 解析为无意义指令，从而不能正常执行。

[返回README](../README.md)